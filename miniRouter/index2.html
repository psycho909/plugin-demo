<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠæˆ²æ´»å‹•é  - MiniRouter ç¯„ä¾‹</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <style>
        /* ç°¡å–®çš„æ¨£å¼ï¼Œä¸ç”¨ç†æœƒ */
        body { font-family: sans-serif; background: #1a1a1a; color: white; text-align: center; margin: 0; }
        nav { background: #333; padding: 15px; position: sticky; top: 0; }
        nav a { margin: 0 10px; color: #aaa; cursor: pointer; text-decoration: none; font-weight: bold; font-size: 18px; }
        nav a:hover { color: white; }
        nav a.active { color: #42b983; border-bottom: 2px solid #42b983; }
        
        .page-container { padding: 40px 20px; border: 1px solid #444; margin: 20px auto; max-width: 600px; border-radius: 10px; background: #222; }
        .btn { background: #42b983; border: none; padding: 8px 16px; color: white; cursor: pointer; border-radius: 4px; margin: 5px; }
        .btn:hover { opacity: 0.8; }
        .tag { background: #555; padding: 2px 6px; font-size: 12px; border-radius: 4px; }
    </style>
</head>
<body>

<div id="app">
    <nav>
        <a @click.prevent="$router.go('home')" :class="{ active: $router.currentPage === 'home' }">ğŸ  é¦–é </a>
        <a @click.prevent="$router.go('chars')" :class="{ active: $router.currentPage === 'chars' }">âš”ï¸ è§’è‰²ä»‹ç´¹</a>
        <a @click.prevent="$router.go('rewards')" :class="{ active: $router.currentPage === 'rewards' }">ğŸ é ç´„çå‹µ</a>
    </nav>

    <div class="page-container">
        <mini-view></mini-view>
    </div>

    <div style="margin-top: 50px; color: #666; font-size: 12px;">
        <p>Current Page: {{ $router.currentPage }}</p>
        <p>Current Query: {{ $router.query }}</p>
        <p>Full Path: {{ $router.path }}</p>
    </div>
</div>
 <script src="js/miniRouter2.js"></script>
<script>
    const { createApp, ref, computed } = Vue;

    // --- çµ„ä»¶ A: é¦–é  ---
    const HomePage = {
        template: `
            <div>
                <h1>ğŸ”¥ äº‹å‰é ç´„ç«ç†±é€²è¡Œä¸­</h1>
                <p>ç«‹å³é ç´„ç²å¾—é™å®šSSRï¼</p>
                <button class="btn" @click="$router.go('rewards')">æŸ¥çœ‹çå‹µæ¸…å–®</button>
            </div>
        `
    };

    // --- çµ„ä»¶ B: è§’è‰²ä»‹ç´¹ (å±•ç¤ºè®€å–åƒæ•¸åŠŸèƒ½) ---
    const CharPage = {
        setup() {
            // å®šç¾©è§’è‰²è³‡æ–™
            const chars = {
                '1': { name: 'äºç‘Ÿç‹', job: 'Saber', desc: 'å‚³èªªä¸­çš„é¨å£«ç‹' },
                '2': { name: 'æ¢…æ—', job: 'Caster', desc: 'èŠ±ä¹‹é­”è¡“å¸«' },
                '3': { name: 'åº«å¤«æ—', job: 'Lancer', desc: 'å…‰ä¹‹å­' }
            };

            return { chars };
        },
        computed: {
            // å¾ router.query è®€å–ç•¶å‰ idï¼Œé è¨­ç‚º 1
            currentId() {
                return this.$router.query.id || '1';
            },
            currentChar() {
                return this.chars[this.currentId];
            }
        },
        methods: {
            // åˆ‡æ›è§’è‰² = æ›´æ–° URL åƒæ•¸
            selectChar(id) {
                this.$router.push({ id: id }); 
            }
        },
        template: `
            <div>
                <h2>è§’è‰²ä»‹ç´¹</h2>
                <div style="margin-bottom: 20px;">
                    <button class="btn" @click="selectChar('1')">äºç‘Ÿ</button>
                    <button class="btn" @click="selectChar('2')">æ¢…æ—</button>
                    <button class="btn" @click="selectChar('3')">åº«å¤«æ—</button>
                </div>

                <div v-if="currentChar" style="background:#333; padding:20px; border-radius:8px;">
                    <h3>{{ currentChar.name }} <span class="tag">{{ currentChar.job }}</span></h3>
                    <p>{{ currentChar.desc }}</p>
                    <small style="color:#888;">å°æ‡‰ç¶²å€: ?page=chars&id={{ currentId }}</small>
                </div>
            </div>
        `
    };

    // --- çµ„ä»¶ C: çå‹µé  ---
    const RewardPage = {
        template: `
            <div>
                <h2>ğŸ é ç´„é”æˆçå‹µ</h2>
                <ul style="text-align:left; display:inline-block;">
                    <li>âœ… 10,000 äººï¼šé‡‘å¹£ x 5000</li>
                    <li>âœ… 50,000 äººï¼šé‘½çŸ³ x 100</li>
                    <li>â¬œ 100,000 äººï¼šSSR è§’è‰²è‡ªé¸</li>
                </ul>
                <br><br>
                <button class="btn" @click="$router.go('home')">è¿”å›é¦–é </button>
            </div>
        `
    };

    // --- åˆå§‹åŒ– Vue ---
    const app = createApp({
        setup() {
            return {};
        }
    });

    // ä½¿ç”¨ MiniRouter ä¸¦è¨­å®šè·¯ç”±è¡¨
    app.use(MiniRouter, {
        routes: {
            'home': HomePage,
            'chars': CharPage,
            'rewards': RewardPage,
            '404': { template: '<h1>404 æ‰¾ä¸åˆ°é é¢</h1>' }
        }
    });

    app.mount('#app');
</script>

</body>
</html>